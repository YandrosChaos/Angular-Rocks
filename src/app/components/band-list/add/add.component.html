<button mat-icon-button class="close-button float-right" (click)="onClose()">
  <mat-icon class="close-icon" color="warn">close</mat-icon>
</button>
<div class="mt-5">
  <h1 class="mat-dialog-title text-center text-dark">Add your new band!</h1>

  <mat-dialog-content>
    <form [formGroup]="form" class="text-center m-2">
      <!-- name -->
      <div class="field m-2">
        <input
          type="text"
          name="name"
          class="form-control text-center"
          placeholder="*Band Name"
          [(ngModel)]="band.name"
          required
          minlength="3"
          formControlName="name"
        />

        <div
        *ngIf="isValidInput('name')"
        class="alert alert-danger small p-0 m-1"
        >
          <div *ngIf="form.controls['name'].errors?.required">Name is required.</div>
          <div *ngIf="form.controls['name'].errors?.minlength">
            Name must be at least 3 characters long.
          </div>
        </div>
      </div>

      <!-- formed -->
      <div class="field m-2">
        <mat-label>*Formed In</mat-label>
        <input
          type="number"
          name="formedIn"
          class="form-control text-center"
          placeholder="Formed In"
          [(ngModel)]="band.formedIn"
          required
          formControlName="formedIn"
        />
        <div
          *ngIf="isValidInput('formedIn')"
          class="alert alert-danger small p-0 m-1"
        >
            Bad format. Number must be between 1000 and 2999!
        </div>
      </div>

      <!-- Active -->
      <div class="field m-2">
        <mat-label>Active now?</mat-label>
        <input
          type="checkbox"
          name="active"
          class="form-control"
          placeholder="Active"
          [(ngModel)]="band.active"
          formControlName="isActive"
        />
      </div>

      <!-- description -->
      <div class="field m-2">
        <textarea
          type="textarea"
          name="description"
          class="form-control text-center"
          placeholder="Description"
          [(ngModel)]="band.description"
          formControlName="description"
        ></textarea>
      </div>

      <!-- videoLink -->
      <div class="field m-2">
        <input
          type="text"
          name="videoLink"
          class="form-control text-center"
          placeholder="Video Link"
          [(ngModel)]="band.videoLink"
          formControlName="videoLink"
        />
        <div
          *ngIf="isValidInput('videoLink')"
          class="alert alert-danger small p-0 m-1"
        >
        This is not an url!
        </div>
      </div>

      <!-- imgLink -->
      <div class="field m-2">
        <input
          type="url"
          name="imgLink"
          class="form-control text-center"
          placeholder="Image Link"
          [(ngModel)]="band.imgLink"
          minlength="3"
          formControlName="imageLink"
        />
        <div
          *ngIf="isValidInput('imageLink')"
          class="alert alert-danger small p-0 m-1"
        >
          This is not an url!
        </div>
      </div>

      <button
        [mat-dialog-close]="true"
        role="button"
        class="btn btn-warning text-center"
        (click)="onSave()"
        [disabled]="!form.valid"
      >
        Add
      </button>
    </form>
  </mat-dialog-content>
</div>
